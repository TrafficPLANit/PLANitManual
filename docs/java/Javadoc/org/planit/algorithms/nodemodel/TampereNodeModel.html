<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.2) on Tue Aug 04 11:15:59 AEST 2020 -->
<title>TampereNodeModel (PLANitAllJava 0.0.5a2 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2020-08-04">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TampereNodeModel (PLANitAllJava 0.0.5a2 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TampereNodeModel.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.planit.algorithms.nodemodel</a></div>
<h2 title="Class TampereNodeModel" class="title">Class TampereNodeModel</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="NodeModel.html" title="class in org.planit.algorithms.nodemodel">org.planit.algorithms.nodemodel.NodeModel</a></li>
<li>
<ul class="inheritance">
<li>org.planit.algorithms.nodemodel.TampereNodeModel</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public class <span class="typeNameLabel">TampereNodeModel</span>
extends <a href="NodeModel.html" title="class in org.planit.algorithms.nodemodel">NodeModel</a></pre>
<div class="block">General First order node model implementation as proposed by Tampere et al. (2011). Here we utilise the algorithm description as presented in Bliemer et al. (2014).
 
 Each run of this node model requires two inputs, the mapping of the network to the local node and the
 
 Paper References:
 <ul>
 <li>Tampère, C. M. J., Corthout, R., Cattrysse, D., &amp; Immers, L. H. (2011). A generic class of first order node models for dynamic macroscopic simulation of traffic flows.
 Transportation Research Part B: Methodological, 45(1), 289–309. https://doi.org/10.1016/j.trb.2010.06.004</li>
 <li>Bliemer, M. C. J., Raadsen, M. P. H., Smits, E.-S., Zhou, B., &amp; Bell, M. G. H. (2014). Quasi-dynamic traffic assignment with residual point queues incorporating a first
 order node model. Transportation Research Part B: Methodological, 68, 363–384. https://doi.org/10.1016/j.trb.2014.07.001</li>
 </ul></div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>markr</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected org.ojalgo.array.Array1D&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Double.html?is-external=true" title="class or interface in java.lang" class="externalLink">Double</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#incomingLinkSegmentFlowAcceptanceFactors">incomingLinkSegmentFlowAcceptanceFactors</a></span></code></th>
<td class="colLast">
<div class="block">the result of the node model are the acceptance factors for each incoming link segment</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="TampereNodeModelInput.html" title="class in org.planit.algorithms.nodemodel">TampereNodeModelInput</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#inputs">inputs</a></span></code></th>
<td class="colLast">
<div class="block">inputs for this node model instance</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#processedInLinkSegments">processedInLinkSegments</a></span></code></th>
<td class="colLast">
<div class="block">track which in-link segments are processed X_topbar.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected org.ojalgo.array.Array1D&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Double.html?is-external=true" title="class or interface in java.lang" class="externalLink">Double</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#remainingReceivingFlows">remainingReceivingFlows</a></span></code></th>
<td class="colLast">
<div class="block">store the remaining receiving flows of each outgoing link segment</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected org.ojalgo.array.Array2D&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Double.html?is-external=true" title="class or interface in java.lang" class="externalLink">Double</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#scaledRemainingTurnSendingFlows">scaledRemainingTurnSendingFlows</a></span></code></th>
<td class="colLast">
<div class="block">store the remaining turn sending flows</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.planit.algorithms.nodemodel.TampereNodeModelInput)">TampereNodeModel</a></span>&#8203;(<a href="TampereNodeModelInput.html" title="class in org.planit.algorithms.nodemodel">TampereNodeModelInput</a>&nbsp;tampereNodeModelInput)</code></th>
<td class="colLast">
<div class="block">Constructor</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected <a href="../../utils/misc/Pair.html" title="class in org.planit.utils.misc">Pair</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Double.html?is-external=true" title="class or interface in java.lang" class="externalLink">Double</a>,&#8203;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html?is-external=true" title="class or interface in java.lang" class="externalLink">Integer</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#findMostRestrictingOutLinkSegmentIndex()">findMostRestrictingOutLinkSegmentIndex</a></span>()</code></th>
<td class="colLast">
<div class="block">Find most restricted unprocessed outgoing link segment based on the scaled sending flows</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#initialiseRun()">initialiseRun</a></span>()</code></th>
<td class="colLast">
<div class="block">Initialise the run conforming to Step 1 in Appendix A of Bliemer et al.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isInLinkSegmentProcessed(int)">isInLinkSegmentProcessed</a></span>&#8203;(int&nbsp;inLinkSegmentIndex)</code></th>
<td class="colLast">
<div class="block">Verify if in-link segment has been processed already or not</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>org.ojalgo.array.Array1D&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Double.html?is-external=true" title="class or interface in java.lang" class="externalLink">Double</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#run()">run</a></span>()</code></th>
<td class="colLast">
<div class="block">Run the Tampere node model</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setInLinkSegmentProcessed(int)">setInLinkSegmentProcessed</a></span>&#8203;(int&nbsp;inLinkSegmentIndex)</code></th>
<td class="colLast">
<div class="block">Mark in-link segment as processed</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateCapacityConstrainedInLinkSegments(org.planit.utils.misc.Pair)">updateCapacityConstrainedInLinkSegments</a></span>&#8203;(<a href="../../utils/misc/Pair.html" title="class in org.planit.utils.misc">Pair</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Double.html?is-external=true" title="class or interface in java.lang" class="externalLink">Double</a>,&#8203;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html?is-external=true" title="class or interface in java.lang" class="externalLink">Integer</a>&gt;&nbsp;mostRestrictingOutLinkSegmentData)</code></th>
<td class="colLast">
<div class="block">Based on the most restricting out-link segment, determine the flow acceptance factor for all unprocessed in-link with non-zero (remaining) flows towards this out-link segment</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateDemandConstrainedInLinkSegments(org.planit.utils.misc.Pair)">updateDemandConstrainedInLinkSegments</a></span>&#8203;(<a href="../../utils/misc/Pair.html" title="class in org.planit.utils.misc">Pair</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Double.html?is-external=true" title="class or interface in java.lang" class="externalLink">Double</a>,&#8203;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html?is-external=true" title="class or interface in java.lang" class="externalLink">Integer</a>&gt;&nbsp;mostRestrictingOutLinkSegmentData)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateRemainingReceivingAndSendingFlows(long)">updateRemainingReceivingAndSendingFlows</a></span>&#8203;(long&nbsp;inLinkSegmentIndex)</code></th>
<td class="colLast">
<div class="block">Remove all turn sending flows from provided in-link from remaining receiving flows (whichever out-link they go to) for a demand constrained in link
 
 R_b' = R_b'-t_ab' for all out links b' t_ab' = 0 (to ensure the turn flows are not accidentally reused when updating lambda in next iteration)</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateRemainingReceivingAndSendingFlows(long,double)">updateRemainingReceivingAndSendingFlows</a></span>&#8203;(long&nbsp;inLinkSegmentIndex,
                                       double&nbsp;flowAcceptanceFactor)</code></th>
<td class="colLast">
<div class="block">Remove all accepted turn sending flows (by scaling with flow acceptance factor) from provided in-link from remaining receiving flows (whichever out-link they go to)
 
 R_b' = R_b'-alpha_a*t_ab' for all out links b' t_ab' = 0 (to ensure the turn flows are not accidentally reused when updating lambda in next iteration)</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateSets(org.planit.utils.misc.Pair)">updateSets</a></span>&#8203;(<a href="../../utils/misc/Pair.html" title="class in org.planit.utils.misc">Pair</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Double.html?is-external=true" title="class or interface in java.lang" class="externalLink">Double</a>,&#8203;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html?is-external=true" title="class or interface in java.lang" class="externalLink">Integer</a>&gt;&nbsp;mostRestrictingOutLinkSegmentData)</code></th>
<td class="colLast">
<div class="block">Based on the outlink segment, we determine which in links are demand constrained (if any).</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang" class="externalLink">clone</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang" class="externalLink">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="inputs">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inputs</h4>
<pre>protected final&nbsp;<a href="TampereNodeModelInput.html" title="class in org.planit.algorithms.nodemodel">TampereNodeModelInput</a> inputs</pre>
<div class="block">inputs for this node model instance</div>
</li>
</ul>
<a id="remainingReceivingFlows">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remainingReceivingFlows</h4>
<pre>protected&nbsp;org.ojalgo.array.Array1D&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Double.html?is-external=true" title="class or interface in java.lang" class="externalLink">Double</a>&gt; remainingReceivingFlows</pre>
<div class="block">store the remaining receiving flows of each outgoing link segment</div>
</li>
</ul>
<a id="scaledRemainingTurnSendingFlows">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scaledRemainingTurnSendingFlows</h4>
<pre>protected&nbsp;org.ojalgo.array.Array2D&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Double.html?is-external=true" title="class or interface in java.lang" class="externalLink">Double</a>&gt; scaledRemainingTurnSendingFlows</pre>
<div class="block">store the remaining turn sending flows</div>
</li>
</ul>
<a id="processedInLinkSegments">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>processedInLinkSegments</h4>
<pre>protected&nbsp;boolean[] processedInLinkSegments</pre>
<div class="block">track which in-link segments are processed X_topbar. Note this is the inverse since it tracks processed rather than unprocessed link segments</div>
</li>
</ul>
<a id="incomingLinkSegmentFlowAcceptanceFactors">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>incomingLinkSegmentFlowAcceptanceFactors</h4>
<pre>protected&nbsp;org.ojalgo.array.Array1D&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Double.html?is-external=true" title="class or interface in java.lang" class="externalLink">Double</a>&gt; incomingLinkSegmentFlowAcceptanceFactors</pre>
<div class="block">the result of the node model are the acceptance factors for each incoming link segment</div>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(org.planit.algorithms.nodemodel.TampereNodeModelInput)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TampereNodeModel</h4>
<pre>public&nbsp;TampereNodeModel&#8203;(<a href="TampereNodeModelInput.html" title="class in org.planit.algorithms.nodemodel">TampereNodeModelInput</a>&nbsp;tampereNodeModelInput)
                 throws <a href="../../utils/exceptions/PlanItException.html" title="class in org.planit.utils.exceptions">PlanItException</a></pre>
<div class="block">Constructor</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tampereNodeModelInput</code> - inputs for the model</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/PlanItException.html" title="class in org.planit.utils.exceptions">PlanItException</a></code> - thrown if error</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="initialiseRun()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialiseRun</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;initialiseRun()
                      throws <a href="../../utils/exceptions/PlanItException.html" title="class in org.planit.utils.exceptions">PlanItException</a></pre>
<div class="block">Initialise the run conforming to Step 1 in Appendix A of Bliemer et al. 2014</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/PlanItException.html" title="class in org.planit.utils.exceptions">PlanItException</a></code> - thrown if error</dd>
</dl>
</li>
</ul>
<a id="findMostRestrictingOutLinkSegmentIndex()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>findMostRestrictingOutLinkSegmentIndex</h4>
<pre class="methodSignature">protected&nbsp;<a href="../../utils/misc/Pair.html" title="class in org.planit.utils.misc">Pair</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Double.html?is-external=true" title="class or interface in java.lang" class="externalLink">Double</a>,&#8203;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html?is-external=true" title="class or interface in java.lang" class="externalLink">Integer</a>&gt;&nbsp;findMostRestrictingOutLinkSegmentIndex()</pre>
<div class="block">Find most restricted unprocessed outgoing link segment based on the scaled sending flows</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a pair of the restriction factor and outlinkSegmentIndex for the most restricted out link segment</dd>
</dl>
</li>
</ul>
<a id="updateSets(org.planit.utils.misc.Pair)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateSets</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;updateSets&#8203;(<a href="../../utils/misc/Pair.html" title="class in org.planit.utils.misc">Pair</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Double.html?is-external=true" title="class or interface in java.lang" class="externalLink">Double</a>,&#8203;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html?is-external=true" title="class or interface in java.lang" class="externalLink">Integer</a>&gt;&nbsp;mostRestrictingOutLinkSegmentData)</pre>
<div class="block">Based on the outlink segment, we determine which in links are demand constrained (if any). If there is one ore more, those are removed from the remaining unprocessed links and
 there sending flow is accepted as is. If not, then they are marked as capacity constrained and their sending flow must be reduced.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mostRestrictingOutLinkSegmentData</code> - out-link segment restriction factor and index</dd>
</dl>
</li>
</ul>
<a id="updateDemandConstrainedInLinkSegments(org.planit.utils.misc.Pair)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateDemandConstrainedInLinkSegments</h4>
<pre class="methodSignature">protected&nbsp;boolean&nbsp;updateDemandConstrainedInLinkSegments&#8203;(<a href="../../utils/misc/Pair.html" title="class in org.planit.utils.misc">Pair</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Double.html?is-external=true" title="class or interface in java.lang" class="externalLink">Double</a>,&#8203;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html?is-external=true" title="class or interface in java.lang" class="externalLink">Integer</a>&gt;&nbsp;mostRestrictingOutLinkSegmentData)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mostRestrictingOutLinkSegmentData</code> - with <code>&lt;beta_b, b&gt;</code> with the former representing the outgoing link segment restriction factor, and the latter the index of b</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if demand constrained in link(s) is/are found, false otherwise</dd>
</dl>
</li>
</ul>
<a id="updateCapacityConstrainedInLinkSegments(org.planit.utils.misc.Pair)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateCapacityConstrainedInLinkSegments</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;updateCapacityConstrainedInLinkSegments&#8203;(<a href="../../utils/misc/Pair.html" title="class in org.planit.utils.misc">Pair</a>&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Double.html?is-external=true" title="class or interface in java.lang" class="externalLink">Double</a>,&#8203;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html?is-external=true" title="class or interface in java.lang" class="externalLink">Integer</a>&gt;&nbsp;mostRestrictingOutLinkSegmentData)</pre>
<div class="block">Based on the most restricting out-link segment, determine the flow acceptance factor for all unprocessed in-link with non-zero (remaining) flows towards this out-link segment</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mostRestrictingOutLinkSegmentData</code> - out-link segment restriction factor and index</dd>
</dl>
</li>
</ul>
<a id="updateRemainingReceivingAndSendingFlows(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateRemainingReceivingAndSendingFlows</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;updateRemainingReceivingAndSendingFlows&#8203;(long&nbsp;inLinkSegmentIndex)</pre>
<div class="block">Remove all turn sending flows from provided in-link from remaining receiving flows (whichever out-link they go to) for a demand constrained in link
 
 R_b' = R_b'-t_ab' for all out links b' t_ab' = 0 (to ensure the turn flows are not accidentally reused when updating lambda in next iteration)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inLinkSegmentIndex</code> - the inLink to base the reduction on</dd>
</dl>
</li>
</ul>
<a id="updateRemainingReceivingAndSendingFlows(long,double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateRemainingReceivingAndSendingFlows</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;updateRemainingReceivingAndSendingFlows&#8203;(long&nbsp;inLinkSegmentIndex,
                                                       double&nbsp;flowAcceptanceFactor)</pre>
<div class="block">Remove all accepted turn sending flows (by scaling with flow acceptance factor) from provided in-link from remaining receiving flows (whichever out-link they go to)
 
 R_b' = R_b'-alpha_a*t_ab' for all out links b' t_ab' = 0 (to ensure the turn flows are not accidentally reused when updating lambda in next iteration)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inLinkSegmentIndex</code> - the inLink to base the reduction on</dd>
<dd><code>flowAcceptanceFactor</code> - to scale the sending flows to accepted flow</dd>
</dl>
</li>
</ul>
<a id="isInLinkSegmentProcessed(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isInLinkSegmentProcessed</h4>
<pre class="methodSignature">protected&nbsp;boolean&nbsp;isInLinkSegmentProcessed&#8203;(int&nbsp;inLinkSegmentIndex)</pre>
<div class="block">Verify if in-link segment has been processed already or not</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inLinkSegmentIndex</code> - the in link segment index</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if processed, false otherwise</dd>
</dl>
</li>
</ul>
<a id="setInLinkSegmentProcessed(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setInLinkSegmentProcessed</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;setInLinkSegmentProcessed&#8203;(int&nbsp;inLinkSegmentIndex)</pre>
<div class="block">Mark in-link segment as processed</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inLinkSegmentIndex</code> - to mark as processed</dd>
</dl>
</li>
</ul>
<a id="run()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>run</h4>
<pre class="methodSignature">public&nbsp;org.ojalgo.array.Array1D&lt;<a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Double.html?is-external=true" title="class or interface in java.lang" class="externalLink">Double</a>&gt;&nbsp;run()
                                     throws <a href="../../utils/exceptions/PlanItException.html" title="class in org.planit.utils.exceptions">PlanItException</a></pre>
<div class="block">Run the Tampere node model</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>flowAcceptanceFactor per incoming linksegment index</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../utils/exceptions/PlanItException.html" title="class in org.planit.utils.exceptions">PlanItException</a></code> - thrown if error</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TampereNodeModel.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2018&#x2013;2020 <a href="https://trafficplanit.github.io/PLANitManual">Mark Raadsen</a>. All rights reserved.</small></p>
</footer>
</body>
</html>
